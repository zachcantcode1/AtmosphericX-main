<!DOCTYPE html>
<html>
    <title>AtmosphericX</title>
    <link rel="icon" href="/assets/media/dashboard/favicon.ico" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.4/howler.min.js"></script>
    <link rel="stylesheet" href="../widgets/gps@widget/index.css">
    <link rel="stylesheet" href="../../assets/styles/variables.css">
    <script src="../../assets/javascript/library.js"></script>
    <body><p id="location" class="text">Updating Location...</p></body>
    <script>
        let library = new Library()
        library.createWebsocketSession([`realtime`]).then(() => {
            document.addEventListener('onCacheUpdate', async (event) => {
                let location = library.storage.realtime 
                if (Object.keys(location).length > 0) {
                    let latitude = location.lat
                    let longitude = location.lon
                    let areaDesc = location.county + `, ` + location.state
                    document.getElementById(`location`).innerHTML = `${areaDesc}`
                }
            })
        })
    </script>
</html>